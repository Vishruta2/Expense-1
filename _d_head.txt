<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Employee Dashboard</title>
  {% load static %}
  <style>
    :root{
      --primary:#4CAF50; --primary-hover:#2e7d32; --pastel-dark:#81c784;
      --card-shadow:0 10px 26px rgba(0,0,0,.08); --muted:#6b7280; --text:#0f172a;
      --nav:#0e1f17;
      --field-max: 360px;            /* NEW: narrow inputs like typical sites */
      --field-max-wide: 260px;       /* NEW: for table cells */
      --field-pad: 8px;              /* NEW: compact padding */
      --field-font: 13px;            /* NEW: compact font-size */
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,Arial,sans-serif;background:var(--pastel-dark);min-height:100vh;color:var(--text);}
    .logo-header{background:#000;padding:10px 18px;display:flex;align-items:center}
    .logo{height:35px;width:auto}

    /* NAVBAR */
    .topnav{display:flex;gap:16px;align-items:center;background:var(--nav);color:#d1fae5;padding:12px 20px;position:sticky;top:0;z-index:50;box-shadow:0 2px 10px rgba(0,0,0,.2)}
    .nav-title{font-weight:800;letter-spacing:.4px;margin-right:auto;color:#a7f3d0}
    .nav-btn{display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.15);background:transparent;color:#e2e8f0;cursor:pointer;font-weight:700;transition:.18s}
    .nav-btn:hover,.nav-btn.active{background:#113f2e;border-color:#32d399;color:#d1fae5;transform:translateY(-1px)}
    .ic{font-size:18px}

    .container{background:#fff;margin:24px;border-radius:16px;box-shadow:var(--card-shadow);padding:22px}
    .content{min-height:64vh}
    .page{display:none}
    .page.active{display:block}
    .content-card{background:#fff;border:1px solid #e9eef4;border-radius:16px;box-shadow:var(--card-shadow);padding:20px}

    .btn,.btn-primary{display:inline-flex;justify-content:center;align-items:center;gap:8px;background:var(--primary);color:#fff;border:none;border-radius:12px;padding:10px 12px;font-weight:700;cursor:pointer;transition:.18s;font-size:14px}
    .btn:hover,.btn-primary:hover{background:var(--primary-hover);transform:translateY(-1px)}
    .btn-secondary{background:#e9ecef;color:#111;border:1px solid #d0d7de;padding:8px 12px;border-radius:8px;cursor:pointer;font-size:13px}
    .btn-ghost{background:#e8f5e9;color:#256029;border:1px solid #c8e6c9;border-radius:999px;padding:6px 10px;font-weight:700;font-size:13px}

    .top-actions{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:10px}

    .table-wrap{overflow:auto;background:#fff;border:1px solid #e5e7eb;border-radius:10px;margin:12px 0}
    table.data{width:100%;border-collapse:collapse;font-size:14px}
    table.data th,table.data td{border:1px solid #e5e7eb;padding:8px;text-align:left}
    .muted{color:#6b7280;font-size:12px;display:block;margin-top:4px}

    .s-pending{color:#9a6700}.s-approved{color:#116329}.s-auto{color:#1b4b91}.s-rejected{color:#a40e26}

    /* Forms (COMPACT) */
    .form{background:#fff;border:1px solid #e9e9e9;border-radius:10px;padding:16px;position:relative}
    .form-row{margin-bottom:10px}
    .form-row label{display:block;font-size:13px;color:#333;margin-bottom:6px}
    .form-row input[type="text"],
    .form-row input[type="number"],
    .form-row input[type="date"],
    .form-row input[type="datetime-local"],
    .form-row input[type="file"],
    .form-row textarea,
    .form-row select{
      width:min(100%, var(--field-max));
      padding:var(--field-pad);
      border:1px solid #888;border-radius:8px;font-size:var(--field-font);background:#fff
    }
    .form-row textarea{min-height:80px;resize:vertical}
    .form-actions{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}
    .claim-stamp{position:absolute;top:10px;right:12px;background:#f1f8e9;border:1px solid #cfe3c4;color:#1b5e20;padding:6px 10px;border-radius:8px;font-weight:700;font-size:12px}

    /* Wizard (used inside modal) */
    .uv-wrap{background:#fff;border:1px solid #e5efe6;border-radius:14px;padding:16px;margin-top:12px}
    .uv-tabs{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
    .uv-tab{background:#40a4d8;color:#fff;border:none;padding:8px 12px;border-radius:8px;opacity:.85;cursor:default;font-size:13px}
    .uv-tab.active{opacity:1;font-weight:700}
    .uv-panel.hidden{display:none}
    .uv-heading{margin:4px 0 8px 0}
    .uv-help{color:#6b7280;font-size:12px;margin:6px 0}
    .uv-filelist{margin-top:6px;font-size:12px}
    .uv-nav{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}
    .uv-btn{padding:8px 12px;border-radius:10px;border:1px solid #cbd5e1;background:#fff;cursor:pointer;font-size:13px}
    .uv-btn.primary{background:#40a4d8;color:#fff;border-color:#40a4d8}
    .uv-btn.primary:disabled{opacity:.5;cursor:not-allowed}

    /* Travel widgets (COMPACT widths) */
    .travel-title{text-align:center;font-weight:700;margin-bottom:8px}
    .travel-table{width:100%;border-collapse:collapse;margin-bottom:10px;table-layout:fixed}
    .travel-table th,.travel-table td{border:1px solid #444;padding:6px;vertical-align:middle}
    .travel-table input,.travel-table select{
      width:min(100%, var(--field-max-wide));
      padding:var(--field-pad);
      border:1px solid #888;border-radius:6px;background:#fff;font-size:var(--field-font)
    }
    .exp-card{background:#fff;border:1px solid #e3e3e3;border-radius:10px;padding:10px;margin:10px 0;display:none;position:relative}
    .exp-card.active{display:block}
    .exp-grid{display:grid;grid-template-columns:repeat(3, minmax(180px, 1fr));gap:10px}
    .exp-grid .cell{display:flex;flex-direction:column}
    .exp-grid .cell input,.exp-grid .cell select{width:min(100%, var(--field-max-wide)); font-size:var(--field-font); padding:var(--field-pad);}
    .summary-wrap{margin-top:10px;border:1px solid #cfd8dc;border-radius:10px;background:#fff;overflow:hidden}
    .summary-head{background:#f1f8e9;padding:8px 10px;font-weight:800;border-bottom:1px solid #cfd8dc}
    .sum-table{width:100%;border-collapse:collapse}
    .sum-table th,.sum-table td{border:1px solid #e0e0e0;padding:8px}
    .sum-amount{text-align:right}
    .summary-total{font-size:16px;font-weight:bold;background:#f7f7f7}

    /* Ledger */
    #pg-ledger h2{text-align:center}
    .ledger-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;gap:12px;flex-wrap:wrap}
    .ledger-title{font-size:24px;letter-spacing:1px;font-weight:800}
    .ledger-total{border:1px solid #111;border-collapse:collapse}
    .ledger-total th,.ledger-total td{border:1px solid #111;padding:6px 10px}
    .ledger-box{border:1px solid #111;border-collapse:collapse;width:100%}
    .ledger-box th,.ledger-box td{border:1px solid #111;padding:8px}
    .ledger-actions{display:flex;gap:8px;margin:10px 0}
    .ledger-actions .btn-secondary{padding:8px 10px}
    .ledger-wrap{background:#fff;border:1px solid #111;padding:14px;border-radius:8px}
    .number{text-align:right}
    .print-note{color:#6b7280;font-size:12px;margin-top:8px}

    /* MODAL */
    .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:1000}
    .modal-overlay.active{display:flex}
    .modal{width:min(980px,92vw);max-height:90vh;overflow:auto;background:#fff;border-radius:16px;box-shadow:0 30px 80px rgba(0,0,0,.35);padding:18px}
    .modal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
    .modal-title{font-weight:800;font-size:20px}
    .modal-actions{display:flex;gap:8px}
    .modal-close{border:none;background:#f1f5f9;border-radius:10px;padding:8px 10px;cursor:pointer}
    .modal-back{display:inline-flex;gap:8px;align-items:center;padding:8px 12px;border-radius:999px;border:1px solid #c8e6c9;background:#e8f5e9;color:#256029;font-weight:700;cursor:pointer}

    /* Dropdowns */
    .btn-group{position:relative;display:inline-flex;align-items:center}
    .caret{font-size:12px}
    .menu{position:absolute;top:100%;left:0;background:#fff;border:1px solid #d1d5db;border-radius:10px;box-shadow:var(--card-shadow);padding:6px;min-width:220px;display:none;z-index:20}
    .menu.open{display:block}
    .menu button{display:flex;width:100%;justify-content:flex-start;gap:8px;padding:10px 12px;background:#fff;border:none;border-radius:8px;cursor:pointer}
    .menu button:hover{background:#f3f4f6}

    /* ===== Mobile: keep desktop tables with horizontal scroll ===== */
    @media(max-width:700px){
      .container{margin:16px}
      .nav-title{display:none}
    }
  
    /* ---- Bootstrap-like container, pure CSS ---- */
    :root{ --container-padding-x: 12px; }
    .container-fluid{ width:100%; padding-right:var(--container-padding-x); padding-left:var(--container-padding-x); margin-right:auto; margin-left:auto; }
    /* Keep desktop layout on phones by allowing horizontal scroll */
    .container-fluid{ min-width:1200px; }
    html, body{ overflow-x:auto; }
  </style>

    <style>.bill-btn{border-radius:999px;padding:6px 12px;font-weight:600;min-width:86px}</style>
    
</head>
<body data-username="">
  <div class="logo-header">
    <img class="logo" src="{% static 'core/images/logo.png' %}" alt="Company Logo">
  </div>

  <!-- NAVBAR -->
  <nav class="topnav" aria-label="Primary">
    <div class="nav-title">Employee Dashboard</div>
    <button class="nav-btn" data-target="pg-voucher"><span class="ic">ðŸ§¾</span><span>Voucher</span></button>
    <button class="nav-btn" data-target="pg-validate"><span class="ic">âœ…</span><span>Validate Voucher</span></button>
    <button class="nav-btn" data-target="pg-payment"><span class="ic">ðŸ’¸</span><span>Payment Request</span></button>
    <button class="nav-btn" data-target="pg-ledger"><span class="ic">ðŸ“’</span><span>Ledger</span></button>
  </nav>

  <div class="container container-fluid">
    <section class="content">
      <!-- BLANK LANDING PAGE -->
      <div id="pg-blank" class="page active">
        <div class="content-card container-fluid">
          <h2>Welcome</h2>
          <p class="muted">Choose a section from the top navigation (Voucher, Payment Request, or Ledger) to get started.</p>
        </div>
      </div>

      <!-- VOUCHER LIST PAGE -->
      <div id="pg-voucher" class="page">
        <div class="content-card">
          <div class="top-actions">
